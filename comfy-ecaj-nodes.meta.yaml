kynetic_meta: "1.0"
agents:
  - _ulid: 01KH4D20YRV8MXAEMAC70AKQQZ
    id: claude
    name: Claude Code Agent
    description: Primary development agent for this project.
    capabilities:
      - code
      - test
      - refactor
      - review
    tools:
      - kspec
      - git
      - uv
    conventions: []
workflows:
  - _ulid: 01KH4D2G8XEYKRQNNZR9HC6S8A
    id: task-work-session
    trigger: manual
    description: Core pattern for working on a task. Full lifecycle from start through PR merge.
    steps:
      - type: check
        content: |-
          Check for existing in_progress or pending_review tasks.
          Use: kspec session start (shows active work first)
          Priority: pending_review > in_progress > ready
        on_fail: Inherit existing work instead of starting new.
      - type: action
        content: |-
          Choose task to work on.
          Use: kspec tasks ready to see available tasks
      - type: check
        content: |-
          Verify work is not already done.
          Check git history and existing code.
        on_fail: Mark task complete with Already implemented reason
      - type: action
        content: |-
          Start the task.
          Use: kspec task start @task
      - type: action
        content: |-
          Work on the task, adding notes as you go.
          Use: kspec task note @task "What you are doing..."
      - type: check
        content: All changes committed
        on_fail: "Commit changes with Task: @task trailer."
      - type: action
        content: |-
          Submit task for review.
          Use: kspec task submit @task
      - type: action
        content: |-
          Create PR.
          Use: /pr skill or gh pr create
  - _ulid: 01KH4D2XWDYBF7V5FW6GA497JC
    id: session-reflect
    trigger: session-end
    description: Structured reflection after work sessions. Surfaces learnings, identifies friction, and
      captures improvements.
    steps:
      - type: action
        content: |-
          Identify what worked well this session.
          Be specific. Consider: workflows, tools, communication, decisions.
      - type: action
        content: |-
          Identify friction points - where things were harder than needed.
          Focus on systemic issues, not one-off mistakes.
      - type: action
        content: |-
          Check if friction points are already tracked.
          Search specs, tasks, AND inbox before proposing new improvements.
      - type: action
        content: |-
          For untracked friction, propose concrete improvements.
          Include: what it would do, how it helps, rough scope.
      - type: decision
        content: Present findings to user - ask about each improvement one at a time
        options:
          - Worth capturing -> proceed to capture
          - Needs refinement -> discuss and refine
          - Not worth it -> skip
          - Done with reflection -> complete workflow
      - type: action
        content: |-
          Capture approved items:
          - Actionable improvements: kspec inbox add
          - Friction patterns: kspec meta observe friction
          - Success patterns: kspec meta observe success
          - Open questions: kspec meta question add
conventions: []
observations: []
includes: []
